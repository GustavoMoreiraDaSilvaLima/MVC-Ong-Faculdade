<script src="/js/admin/produto/excluir.js"></script>
<link rel="stylesheet" type="text/css" href="/css/admin/adminDoacao.css">


<div class="container">
    <!-- Filtro de Produtos para telas menores -->
    <div class="filter-container d-block d-md-none">
      <div class="card">
        <div class="card-header">
          <h4>Filtro de Produtos</h4>
        </div>
        <div class="card-body">
          <form>
            <div class="form-group">
              <label for="productName">Nome do Produto</label>
              <input type="text" class="form-control" id="productName" placeholder="Digite o nome do produto">
            </div>
            <div class="form-group">
              <label>Categoria</label><br>
              <div class="btn-group btn-group-toggle w-100" data-toggle="buttons">
                <label class="radio flex-fill">
                  <input type="radio" name="category" id="category1" autocomplete="off"> Categoria 1
                </label>
              </div>
            </div>
            <div class="form-group">
              <label>Ordenar por Preço</label><br>
              <div class="btn-group btn-group-toggle w-100" data-toggle="buttons">
                <label class="radio flex-fill">
                  <input type="radio" name="priceOrder" id="priceAsc" autocomplete="off"> Ascendente
                </label>
                <label class="radio flex-fill">
                  <input type="radio" name="priceOrder" id="priceDesc" autocomplete="off"> Descendente
                </label>
              </div>
            </div>
            <div class="form-group">
              <label for="brandSelect">Marca</label>
              <select class="form-control" id="brandSelect">
                <option>Marca 1</option>
                <option>Marca 2</option>
                <option>Marca 3</option>
              </select>
            </div>
            <div class="form-group">
              <label for="quantityRange">Quantidade</label>
              <input type="range" class="form-control-range" id="quantityRange" min="0" max="800" step="100">
              <div class="d-flex justify-content-between mt-2">
                <span>0</span>
                <span>100</span>
                <span>200</span>
                <span>300</span>
                <span>400</span>
                <span>500</span>
                <span>600</span>
                <span>700</span>
                <span>800</span>
              </div>
            </div>
            <button type="submit" class="btn btn-primary btn-block">Buscar</button>
          </form>
        </div>
      </div>
    </div>

    <div class="row">
      <!-- Coluna do filtro para telas maiores -->
      <div class="col-md-4 d-none d-md-block">
        <div class="card">
          <div class="card-header">
            <h4>Filtro de Produtos</h4>
          </div>
          <div class="card-body">
            <form>
              <div class="form-group">
                <label for="productName">Nome do Produto</label>
                <input type="text" class="form-control" id="productName" placeholder="Digite o nome do produto">
              </div>
              <div class="form-group">
                <label>Categoria</label><br>
                <div class="btn-group btn-group-toggle w-100" data-toggle="buttons">
                  <% lista.map(function(value, index) { %>
                  <label class="radio flex-fill">
                    <input type="radio" name="category" id="category1" autocomplete="off"> <%= value.categoriaNome %>    
                  </label>
                  <% }) %>
                  <label class="radio flex-fill">
                    <input type="radio" name="category" id="category2" autocomplete="off"> Categoria 2
                  </label>
                  <label class="radio flex-fill">
                    <input type="radio" name="category" id="category3" autocomplete="off"> Categoria 3
                  </label>
                </div>
              </div>
              <div class="form-group">
                <label>Ordenar por Preço</label><br>
                <div class="btn-group btn-group-toggle w-100" data-toggle="buttons">
                  <label class="radio flex-fill">
                    <input type="radio" name="priceOrder" id="priceAsc" autocomplete="off"> Ascendente
                  </label>
                  <label class="radio flex-fill">
                    <input type="radio" name="priceOrder" id="priceDesc" autocomplete="off"> Descendente
                  </label>
                </div>
              </div>
              <div class="form-group">
                <label for="brandSelect">Marca</label>
                <select class="form-control" id="brandSelect">
                  <option>Marca 1</option>
                  <option>Marca 2</option>
                  <option>Marca 3</option>
                </select>
              </div>
              <div class="form-row">
                <div class="col">
                    <label for="quantityMin">Quantidade Mínima</label>
                    <input type="number" class="form-control" id="quantityMin" min="0" placeholder="Mínimo">
                </div>
                <div class="col">
                    <label for="quantityMax">Quantidade Máxima</label>
                    <input type="number" class="form-control" id="quantityMax" min="0" placeholder="Máximo">
                </div>
            </div>
              <button type="submit" class="btn btn-primary btn-block">Buscar</button>
            </form>
          </div>
        </div>
      </div>

      <!-- Coluna da tabela -->
      <div class="col-md-8">
        <div class="mb-4">
          <h1>Produtos</h1>
          <div class="d-flex justify-content-between flex-wrap mb-3">
            <div class="mb-2">
              <a href="produto/marca" class="btn btn-primary">Ver Marcas</a> 
              <a href="produto/categoria" class="btn btn-primary">Ver Categorias</a>
              <a href="produto/cadastro" class="btn btn-success">Cadastrar</a>
            </div>
            <button data-bs-toggle="modal" data-bs-target="#exportModal" class="btn btn-warning btn-sm" type="button">
              Exportar<i class="fa fa-file" aria-hidden="true"></i>
            </button>
          </div>
        </div>

        <div class="table-responsive">
          <table class="table table-striped table-hover">
            <thead class="thead-dark">
              <tr>
                <th>Imagem</th>
                <th>Código</th>
                <th>Nome</th>
                <th>Quantidade</th>
                <th>Categoria</th>
                <th>Marca</th>
                <th>Ações</th>
              </tr>
            </thead>
            <tbody>
              <% lista.map(function(value, index) { %>
              <tr>
                <td>
                  <% if(value.imagem != "") { %>
                  <img src="<%= value.imagem %>" width="80" />
                  <% } else { %>
                  <img src="/img/sem-foto.png" width="80">
                  <% } %>
                </td>
                <td><%= value.produtoCodigo %></td>
                <td><%= value.produtoNome %></td>
                <td><%= value.produtoQuantidade %></td>
                <td><%= value.categoriaNome %></td>
                <td><%= value.marcaNome %></td>                   
                <td>
                  <div class="btn-group" role="group" aria-label="Ações">
                    <a href="produto/alterar/<%= value.produtoId %>" class="btn btn-primary"> <i class="bi bi-pen"></i></a>
                    <button data-codigo="<%=value.produtoId %>" class="btn btn-danger btnExcluir"><i class="bi bi-trash"></i></button>
                  </div>
                </td>
              </tr>
              <% }) %>
            </tbody>
          </table>
        </div>

        <!-- Modal para exportar tabela -->
        <div class="modal fade" id="exportModal" tabindex="-1" aria-labelledby="exportModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exportModalLabel">Exportar Tabela</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="ExportExcel">
                  <label class="form-check-label" for="ExportExcel">Excel</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="ExportPdf">
                  <label class="form-check-label" for="ExportPdf">PDF</label>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-warning" id="ExportarTabela">Exportar</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
